randu
?random
??random
?sort
??Random
# first names
names<-c(
'Abdullah',
'Andrea',
'Candace',
'Delany',
'Diana',
'Elia',
'Erin',
'James',
'Kim',
'Qi',
'Sherry',
'Virginia'
)
len(names)
length(names)
?seed
??seed
?set.seed
# random seed
set.seed(6508420456)
# random seed
set.seed(6508420456)
# random seed
set.seed(1)
# random seed
set.seed(850110)
# first names
names<-c(
'Abdullah',
'Andrea',
'Candace',
'Delany',
'Diana',
'Elia',
'Erin',
'James',
'Kim',
'Qi',
'Sherry',
'Virginia'
)
# random order
sample(names)
# random seed
set.seed(850110)
# first names
names<-c(
'Abdullah',
'Andrea',
'Candace',
'Delany',
'Diana',
'Elia',
'Erin',
'James',
'Kim',
'Qi',
'Sherry',
'Virginia'
)
# random order
sample(names)
# random seed
set.seed(01101985)
# first names
names<-c(
'Abdullah',
'Andrea',
'Candace',
'Delany',
'Diana',
'Elia',
'Erin',
'James',
'Kim',
'Qi',
'Sherry',
'Virginia'
)
# random order
sample(names)
# random seed
set.seed(01101985)
# first names
names<-c(
'Abdullah',
'Andrea',
'Candace',
'Delany',
'Diana',
'Elia',
'Erin',
'James',
'Kim',
'Qi',
'Sherry',
'Virginia'
)
# random order
sample(names)
# random seed
set.seed(01101985)
# first names
names<-c(
'Abdullah',
'Andrea',
'Candace',
'Delany',
'Diana',
'Elia',
'Erin',
'James',
'Kim',
'Qi',
'Sherry',
'Virginia'
)
# random order
sample(names)
load("~/Documents/Documents_loaner/Research/MEP_HLM/MEP_merged.RData")
library(psych)
library(lmerTest        )
library(lmerTest        )
test.elev.3 <- lmer(Elevation ~ Attainability * Relevance + (1+Attainability+Relevance|study/ID),data=DATA,
control = lmerControl(
optimizer ='optimx', optCtrl=list(method='nlminb')),REML=F)
test.elev.3
summary(test.elev.3)
btest.elev.3  <- brms::brm(Elevation ~ Attainability * Relevance + (1+Attainability+Relevance|study/ID),
data=DATA, family = gaussian(),
cores=4,chains=4, iter=10000, save_all_pars =  TRUE,
sample_prior ='yes',prior=prior.coef,warmup=5000, seed=1660415,control = list(adapt_delta = 0.99),inits='0')
btest.elev.3
hypothesis(btest.elev.3,'Attainability:Relevance=0')
library(brms)
hypothesis(btest.elev.3,'Attainability:Relevance=0')
gc()
load("~/Documents/Documents_loaner/Research/MEP_HLM/MEP_merged.RData")
btest.plea.3
load("~/Documents/Documents_loaner/Research/MEP_HLM/MEP_merged1.RData")
bf.plea.03
btest.plea.3
summary(test.plea.3)
head(DATA)
describe(DATA)
library(psych)
describe(DATA)
class(DATA$ID)
class(DATA$Group)
class(DATA$Attainability)
class(DATA$story)
load("~/Documents/GitHub/COVIDiSTRESS2_Vaccine/Vaccine_H1.RData")
summary(h1.2)
# effect size
EMAtools::lme.dscore(h1.1, type='lme4', data=data.filtered)
gc()
load("~/Documents/GitHub/COVIDiSTRESS2_Vaccine/Vaccine_H2.RData")
options(width=1000)
summary(h2a.2)
# effect size
EMAtools::lme.dscore(h2a.1, type='lme4', data=data.filtered)
summary(h2b.2)
EMAtools::lme.dscore(h2b.1, type='lme4', data=data.filtered)
summary(h2c.2)
# effect size
EMAtools::lme.dscore(h2c.1, type='lme4', data=data.filtered)
load("~/Documents/GitHub/COVIDiSTRESS2_Vaccine/Vaccine_H3.RData")
summary(h3a.2)
# predictor bayes factor check
# one direction -> positive
hypothesis(b.h3a.2,'anti<0')
# effect size
EMAtools::lme.dscore(h3a.1, type='lme4', data=data.filtered)
summary(h3b.2)
EMAtools::lme.dscore(h3b.1, type='lme4', data=data.filtered)
summary(h3c.2)
# predictor bayes factor check
# one direction -> positive
hypothesis(b.h3c.2,'anti<0')
# effect size
EMAtools::lme.dscore(h3c.1, type='lme4', data=data.filtered)
library(lmerTest)
# H1
load('Vaccine_H1.RData')
setwd("~/Documents/GitHub/COVIDiSTRESS2_Vaccine")
# country level analysis
# random slopes
library(lmerTest)
# H1
load('Vaccine_H1.RData')
# get H1 (vaccine ~ vx) slopes
coef(h1.2)
# get H1 (vaccine ~ vx) slopes
H1.coefs <- ranef(h1.2)$residing_country
H1.coefs
test<-coef(h1.2)
test$residing_country$vx
H1.coefs <- coef(h1.2)$residing_country$vx
H1.coefs
H1.rand.err <- ranef(h1.2)$residing_country$vx
H1.rand.err
summary(h1.2)$tTable
summary(h1.2)
test<-summary(h1.2)
h1.2
test$coefficients
# report result
H1.summary <- cbind(as.data.frame(labels(table(data.filtered$residing_country))[[1]]),
as.data.frame(H1.coefs))
H1.summary
colnames(H1.summary) <- c('Country','vx')
H1.summary
H1.summary <- H1.summary(order(vx))
H1.summary <- H1.summary[order(vx),]
H1.summary <- H1.summary[order(H1.summary$vx),]
H1.summary
H1.summary <- H1.summary[-order(H1.summary$vx),]
H1.summary
colnames(H1.summary) <- c('Country','vx')
H1.summary <- H1.summary[order(-H1.summary$vx),]
H1.summary
# report result
H1.summary <- cbind(as.data.frame(labels(table(data.filtered$residing_country))[[1]]),
as.data.frame(H1.coefs))
colnames(H1.summary) <- c('Country','vx')
H1.summary <- H1.summary[order(-H1.summary$vx),]
H1.summary
# H2
load('Vaccine_H2.RData')
# get H2 coefs
h2c.model <- lmer(vx ~ consp+trust_6 + gender + education + work_location + age+
SSS_faml+ relationship_status+ (1+trust_6+consp|residing_country),
data=data.filtered)
H2.coefs.consp <- coef(h2c.model)$residing_country$consp
H2.coefs.trust_6 <- coef(h2c.model)$residing_country$trust_6
H2.consp.summary <- cbind(as.data.frame(labels(table(data.filtered$residing_country))[[1]]),
as.data.frame(H2.coefs.consp))
H2.consp.summary <- cbind(as.data.frame(labels(table(data.filtered$residing_country))[[1]]),
as.data.frame(H2.coefs.consp))
colnames(H2.consp.summary) <- c('Country','consp')
H2.consp.summary <- H2.consp.summary[order(-H2.consp.summary$consp),]
H2.consp.summary
H2.trust_6.summary <- cbind(as.data.frame(labels(table(data.filtered$residing_country))[[1]]),
as.data.frame(H2.coefs.trust_6))
colnames(H2.trust_6.summary) <- c('Country','trust_6')
# vx ~ consp
H2.trust_6.summary <- H2.trust_6.summary[order(-H2.trust_6.summary$trust_6),]
H2.trust_6.summary
# H3
load('Vaccine_H3.RData')
# country level analysis
# random slopes
library(lmerTest)
# load aligned data
load((file='Vaccine_aligned.RData'))
# standardize willingness and VAQB
data.filtered$vx <- scale(data.filtered$vx)
data.filtered$consp <- scale(data.filtered$consp)
data.filtered$anti <- scale(data.filtered$anti)
data.filtered$trust_6 <- scale(data.filtered$trust_6)
data.filtered$trust_7 <- scale(data.filtered$trust_7)
data.filtered$vaccine_0neutral <- scale(data.filtered$vaccine_0neutral)
h1.2 <- lmer(vaccine_0neutral ~ vx+gender + education + work_location + age+
SSS_faml+ relationship_status+
(1+vx|residing_country), data=data.filtered)
# H1
# get H1 (vaccine ~ vx) slopes
H1.coefs <- coef(h1.2)$residing_country$vx
# report result
H1.summary <- cbind(as.data.frame(labels(table(data.filtered$residing_country))[[1]]),
as.data.frame(H1.coefs))
colnames(H1.summary) <- c('Country','vx')
# vaccine ~ vx
H1.summary <- H1.summary[order(-H1.summary$vx),]
# get H2 coefs
h2c.model <- lmer(vx ~ consp+trust_6 + gender + education + work_location + age+
SSS_faml+ relationship_status+ (1+trust_6+consp|residing_country),
data=data.filtered)
H2.coefs.consp <- coef(h2c.model)$residing_country$consp
H2.coefs.trust_6 <- coef(h2c.model)$residing_country$trust_6
H2.consp.summary <- cbind(as.data.frame(labels(table(data.filtered$residing_country))[[1]]),
as.data.frame(H2.coefs.consp))
colnames(H2.consp.summary) <- c('Country','consp')
# vx ~ consp
H2.consp.summary <- H2.consp.summary[order(-H2.consp.summary$consp),]
H2.trust_6.summary <- cbind(as.data.frame(labels(table(data.filtered$residing_country))[[1]]),
as.data.frame(H2.coefs.trust_6))
colnames(H2.trust_6.summary) <- c('Country','trust_6')
# vx ~ consp
H2.trust_6.summary <- H2.trust_6.summary[order(-H2.trust_6.summary$trust_6),]
# H3
# get H3 coefs
h3c.model <- lmer(vx ~ anti+trust_7 + gender + education + work_location + age+
SSS_faml+ relationship_status+ (1+trust_6+consp|residing_country),
data=data.filtered)
H3.coefs.consp <- coef(h3c.model)$residing_country$anti
H3.coefs.trust_7 <- coef(h3c.model)$residing_country$trust_7
H3.anti.summary <- cbind(as.data.frame(labels(table(data.filtered$residing_country))[[1]]),
as.data.frame(H3.coefs.anti)
colnames(H3.anti.summary) <- c('Country','anti')
# vx ~ consp
H3.anti.summary <- H3.anti.summary[order(-H3.anti.summary$anti),]
H3.trust_7.summary <- cbind(as.data.frame(labels(table(data.filtered$residing_country))[[1]]),
as.data.frame(H3.coefs.trust_7))
colnames(H3.trust_7.summary) <- c('Country','trust_7')
# vx ~ consp
H3.trust_7.summary <- H3.trust_7.summary[order(-H3.trust_7.summary$trust_7),]
# country level analysis
# random slopes
library(lmerTest)
# load aligned data
load((file='Vaccine_aligned.RData'))
# standardize willingness and VAQB
data.filtered$vx <- scale(data.filtered$vx)
data.filtered$consp <- scale(data.filtered$consp)
data.filtered$anti <- scale(data.filtered$anti)
data.filtered$trust_6 <- scale(data.filtered$trust_6)
data.filtered$trust_7 <- scale(data.filtered$trust_7)
data.filtered$vaccine_0neutral <- scale(data.filtered$vaccine_0neutral)
h1.2 <- lmer(vaccine_0neutral ~ vx+gender + education + work_location + age+
SSS_faml+ relationship_status+
(1+vx|residing_country), data=data.filtered)
# H1
# get H1 (vaccine ~ vx) slopes
H1.coefs <- coef(h1.2)$residing_country$vx
# report result
H1.summary <- cbind(as.data.frame(labels(table(data.filtered$residing_country))[[1]]),
as.data.frame(H1.coefs))
colnames(H1.summary) <- c('Country','vx')
# vaccine ~ vx
H1.summary <- H1.summary[order(-H1.summary$vx),]
# get H2 coefs
h2c.model <- lmer(vx ~ consp+trust_6 + gender + education + work_location + age+
SSS_faml+ relationship_status+ (1+trust_6+consp|residing_country),
data=data.filtered)
H2.coefs.consp <- coef(h2c.model)$residing_country$consp
H2.coefs.trust_6 <- coef(h2c.model)$residing_country$trust_6
H2.consp.summary <- cbind(as.data.frame(labels(table(data.filtered$residing_country))[[1]]),
as.data.frame(H2.coefs.consp))
colnames(H2.consp.summary) <- c('Country','consp')
# vx ~ consp
H2.consp.summary <- H2.consp.summary[order(-H2.consp.summary$consp),]
H2.trust_6.summary <- cbind(as.data.frame(labels(table(data.filtered$residing_country))[[1]]),
as.data.frame(H2.coefs.trust_6))
colnames(H2.trust_6.summary) <- c('Country','trust_6')
# vx ~ consp
H2.trust_6.summary <- H2.trust_6.summary[order(-H2.trust_6.summary$trust_6),]
# H3
# get H3 coefs
h3c.model <- lmer(vx ~ anti+trust_7 + gender + education + work_location + age+
SSS_faml+ relationship_status+ (1+trust_6+consp|residing_country),
data=data.filtered)
H3.coefs.anti<- coef(h3c.model)$residing_country$anti
H3.coefs.trust_7 <- coef(h3c.model)$residing_country$trust_7
H3.anti.summary <- cbind(as.data.frame(labels(table(data.filtered$residing_country))[[1]]),
as.data.frame(H3.coefs.anti))
colnames(H3.anti.summary) <- c('Country','anti')
# vx ~ consp
H3.anti.summary <- H3.anti.summary[order(-H3.anti.summary$anti),]
H3.trust_7.summary <- cbind(as.data.frame(labels(table(data.filtered$residing_country))[[1]]),
as.data.frame(H3.coefs.trust_7))
colnames(H3.trust_7.summary) <- c('Country','trust_7')
# vx ~ consp
H3.trust_7.summary <- H3.trust_7.summary[order(-H3.trust_7.summary$trust_7),]
save.image('coefs.RData')
H1.summary
H2.consp.summary
H2.trust_6.summary
H3.trust_7.summary
H3.anti.summary
# get H3 coefs
h3c.model <- lmer(vx ~ anti+trust_7 + gender + education + work_location + age+
SSS_faml+ relationship_status+ (1+trust_7+anti|residing_country),
data=data.filtered)
H3.coefs.anti<- coef(h3c.model)$residing_country$anti
H3.coefs.trust_7 <- coef(h3c.model)$residing_country$trust_7
H3.anti.summary <- cbind(as.data.frame(labels(table(data.filtered$residing_country))[[1]]),
as.data.frame(H3.coefs.anti))
colnames(H3.anti.summary) <- c('Country','anti')
# vx ~ consp
H3.anti.summary <- H3.anti.summary[order(-H3.anti.summary$anti),]
H3.trust_7.summary <- cbind(as.data.frame(labels(table(data.filtered$residing_country))[[1]]),
as.data.frame(H3.coefs.trust_7))
colnames(H3.trust_7.summary) <- c('Country','trust_7')
# vx ~ consp
H3.trust_7.summary <- H3.trust_7.summary[order(-H3.trust_7.summary$trust_7),]
save.image('coefs.RData')
H3.anti.summary
H3.trust_7.summary
